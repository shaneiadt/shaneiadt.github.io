{"pages":[{"title":"","text":"What is the Shadow DOM? That's a pretty dang good question! This is our fallback text const shadowHost = document.querySelector(\"#root\"); const shadow = shadowHost.attachShadow({ mode: 'open' }); const paragraph = document.createElement(\"p\"); paragraph.innerText = ` It's an awesome way to create re-useable encapsulated web components! `; shadow.appendChild(paragraph) const styles = document.createElement(\"style\"); styles.textContent = ` p { font-weight: bold; font-size: 50px; width: 50%; color: purple; } `; shadow.appendChild(styles); document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/images/start-using-the-shadow-dom/shadow-dom.html"}],"posts":[{"title":"Lets Do AlpineJs","text":"AlpineJs is (quote from Github README): “A rugged, minimal framework for composing JavaScript behaviour in your mark-up.” Pretty straight forward definition, now why might we use this framework over one of the more popular options such as React, Vue or Angular. Why It provides a minimal amount of JS for simple DOM manipulation with no massive overheads NO VIRTUAL DOM so it’s easier to setup & get going NO EXTRA BUILD STEPS, use the CDN link or the npm package….that’s it! Declarative & very small footprint 4kb gzipped InstallationYou can use npm or take a CDN approach like below. 12345678 Lets Do AlpineJs Simple ExampleLet’s toggle the h1 element based on the state of the value show. The x-data attribute maintains state within it’s current element scope. The @click directive binds to the buttons native click event listener. 123456789 Lets Do AlpineJs Toggle Awesome…what else do we have? All snippets can be found at https://codepen.io/shaneiadt/pen/NWqypaV?editors=1100 which is setup with AlpineJs & Bootstrap 4. Conditional Class RenderingFor things like Modal windows. You can bind to pretty much any element attribute. If you have ever used Vue, a lot of this will feel familiar. 123456789101112131415161718192021222324252627 Modal title &times; Modal body text goes here. Close Open Modal Other DirectivesHere are some examples of other directives AlpineJs gives us. x-show 1234567 Home subtitle Paragraph text goes here! x-model, x-text, x-html 123 x-ref Here’s an example fetching some data on button click & using the magic $refs property to update the innerHTML of a div element. 12345678910111213 Fetch Todo Title Click button above to fetch some data x-for Loop through stuff 😄 Only catch with this one is we need to use the template element not a regular DOM element. 123 These are only a few examples, to read about the rest visit Alpine on Github. This is really all you need to get going making those UI’s more reactive. There are some additional Magic Properties around dispatching custom events ($dispatch), executing functions after Alpine has made it’s DOM updates ($nextTick) & dipping into the native event object ($event). All-in-all I for one really enjoy using Alpine & fully encourage every web developer to give it a shot. You’ll be surprised what you can do with minimal effort. References AlpineJS CodePen Examples document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/03/12/Lets-Do-AlpineJs/"},{"title":"(CSS) Magic Is Real With Houdini","text":"Fed up with bloated hacky JavaScript manipulating CSS? Me too! Enter the Houdini Task Force with one simple goal…outline a collection of drafts to be accepted by W3C & added as common web standards. Well it doesn’t seem that simple but these guys are making great strides for the web and developers sake. Houdini will in essence offer the ability to extend the CSS rendering engine with low-level JavaScript APIs. Which will allow authors to extend the CSS engine offering massive improvements & capabilities from a user experience & performance point of view. Specifications Worklets CSS Paint API CSS Animation Worklet CSS Layout API Typed CSSOM WorkletsView specification Worklets themselves aren’t really anything to write home about. Similar to a Web Worker a Worklet is more of a concept that makes use of ES2015 class definitions helping to expose these low-level APIs within our browser. So what is a Worklet? A Worklet is almost like a mini event loop (what is the event loop) that can attach or reposition itself to different events it is configured to. In the words of Surma think of it as your swiss army knife to accessing these low-level APIs. Let’s look at our first low-level API that Worklets give us access to, the CSS Paint API. As most of these specs are still in the draft phase you may need to enable experimental web features to see them in action. chrome://flags/#enable-experimental-web-platform-featuresRead more about Worklets CSS Paint APIView specification Ok what the hell does this thing do you ask & why should I be excited about it! Imagine being able to programmatically control exactly what, when & how an object is drawn to the screen. With greater control using SVGs or jamming image files into your CSS may well become less of a headache. Instead of using things like background-image or border-image you can now reference a paint worklet like so paint(myPainter). Enough with the jabber show me the goodies dag-nab-it! Example Read more about CSS Paint API CSS Animation WorkletView specification This super-sweet Worklet allows us to run a set of instructions on a device at it’s native frame rate preventing jumpy & awkward animations. The first port of call for most animations in CSS is CSS Transitions, CSS Animations & the more complex Web Animations API. With the CSS Animation API / Worklet we can listen for any user input even scroll events! This topic is quite extensive so to prevent boredom I suggest checking out the example below & read more if you fancy. Example Read more about CSS Animation Worklet CSS Layout APIView specification With the ability to create & control your layouts with enormous detail never imagined before! The layout worklet can even help you build your own layouts & pass them into the display property, like so display: layout('myLayout'). Example Read more about the CSS Layout API Typed CSSOMView specification CSS Object Model or Cascading Style Sheets Object Model (Typed CSSOM). If you are familiar with a programming language or two you might have stumbled upon some Object Oriented stuff & data types. What this specification focuses on is the typing part, mainly the typing of CSS values as JavaScript objects. With Typed CSSOM every CSS value is now a member of a new base class called CSSStyleValue. These values can then be extended to help authors manage calculations & different value types such as rem, px, em & percent. Example The Task ForceWith engineers from the likes of Apple, Google & Microsoft working together (i know scary right!) on these potentially new web standards how could you not be excited! ConclusionI wanted to keep these sections brief…so there you have it! Not all the specifications are fully stable at the moment but Houdini & Worklets won’t be going away anytime soon. Keep your ear close to the coconut on this one peoples. Resources Is Houdini Ready Yet? CSS Houdini Github Wiki Houdini updates on developer.google. Houdini draft specifications Chrome Dev Summit Video Google Chrome Lab Houdini Examples document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2019/03/29/CSS-Magic-is-real-with-Houdini/"},{"title":"Advanced Generics - TypeScript","text":"Quick Re-cap on GenericsTypeScript generics are pure awesomeo-5000! 👾 They give us the ability to define a dynamic type & use it within our applications. With the power generics give us we can make our classes & functions highly flexible. Let’s start with a simple example: 123456789101112131415class LotsOfNumbers { constructor(public collecton: number[]) {} get(index: number): number { return this.collecton[index]; }}class LotsOfStrings { constructor(public collecton: string[]) {} get(index: number): string { return this.collecton[index]; }} We have two classes that are extremely similar in nature. The main difference is the elements type stored in our collection array. Now let’s look at a generic-i-fied version that can expect both data types! 1234567class LotsOfAnything { constructor(public collecton: T[]) {} get(index: number): T { return this.collecton[index]; }} We can think of T just like an argument, we could name it whatever we want but T is the current convention. Now any time we create a new instance of of LotsOfAnything we just specify the type along with it. 12const strings = new LotsOfAnything(['a', 'b', 'c']);const numbers = new LotsOfAnything([1, 2, 3]); An awesome example of reusable code 💥 Moving on… Type Inference & GenericsUsing our example above, if we remove the type annotation when creating our new objects from our LotsOfAnything class you’ll notice everything still works fine! 12const strings = new LotsOfAnything(['a', 'b', 'c']);const numbers = new LotsOfAnything([1, 2, 3]); Strange you might think but TypeScript is a clever one you see…this is an example of Type Inference. When we pass in an array to the class constructor TypeScript knows it’s an array of strings / numbers. It looks at the collection & determines the type for us 😁 Function GenericsConsider the two functions below. 1234567891011function printStrings(arr: string[]): void { for (let value in arr) { console.log(value); }}function printNumbers(arr: number[]): void { for (let value in arr) { console.log(value); }} We can see some clear code duplication here, but how can we tidy things up?…I’ll give you a hint…it rhymes with “lemerics“ 😉 12345function print(arr: []): void{ for (let value in arr) { console.log(value); }} Now we have a function that can print an array with multiple types. SUPER SICK! How do we call this function? 12345print([6, 9, 6]);// or with type inferenceprint([6, 9, 6]); TypeScript is super intelligent don’t underestimate the compiler 🐲 Generally as a good “rule of thumb“ it’s best to include the type annotation when using Generics with classes & functions even though most times it can be figured out automatically. This just helps rule out any accidental bugs 🐞 Generic ConstraintsWhere does the buck stop? Right now 😳 …consider the below two classes. 1234567891011class Car { print() { console.log('Car'); }}class House { print() { console.log('House'); }} Now let’s write a simple function that accepts a generic dynamic type & attempt to call the print method on each object in a given array. 12345function printHousesOrCars(arr: T[]): void { for (let i = 0; i < arr.length; i++) { arr[i].print(); }} TypeScript will have an issue calling a method on a dynamically typed object. However we can get around this by specifying a constraint to promise when we invoke the print method that it will exist….using Interfaces woop woop! 123456789101112interface Printable { print(): void;}function printHousesOrCars(arr: T[]): void { for (let i = 0; i < arr.length; i++) { arr[i].print(); }}printHousesOrCars([new House(), new House(), new House()]);printHousesOrCars([new Car(), new Car(), new Car()]); Generics can also maintain a contract by extending an interface like above. We are using a generic constraint to limit the type of arguments the function accepts. Pretty neat right 😏 document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2019/12/18/Advanced-Generics-TypeScript/"},{"title":"Webpack-4-Beginners-Configuration","text":"Welcome to Part 2 of our journey into understanding Webpack just a wee bit better together! If you haven’t read Part 1 I suggest you check it out. We left off from here: https://github.com/shaneiadt/webpack-4-beginners/tree/master/zero-config So we’ve set up our basic zero config bundler project, what now? Two Modes, One Entry FileLet’s spice things up by taking advantage of the two modes our bundler can be set to, development & production. By default Webpack will assume you are running in production mode if not specified. What’s the difference? Production reduces the bundle as much as it can & development contains things like comments & line-breaks that make debugging easier. We can also setup source-maps but we won’t get into it for now. We’ll set our mode by updating our npm build script. 123\"scripts\": { \"build\": \"webpack --mode development\"}, and of course run the following npm run build. Now have a look at our main.js file, you can see it’s not bundled within an inch of it’s life. Perfect for…you guessed it, development purposes! Entry & OutputWhat else can we configure? What if we want to specify a different entry & output file? Well we can do that too from our build script. 123\"scripts\": { \"build\": \"webpack --mode development ./src/a-different-entry-file.js --output ./temp/new-bundle.js\"}, If we run the above we’re saying hey Webpack our entry file is now here ./src/a-different-entry-file.js and by the way output the bundle here ./temp/new-bundle.js. Don’t worry Webpack will create the folder for us 😉 Multiple Entry FilesLet’s say we have multiple entry files how would we manage something like that. Well with something as simple as this. 123\"scripts\": { \"build\": \"webpack --mode development index=./src/index.js entry2=./src/a-different-entry-file.js\"}, When specifying multiple entry files we can’t bundle to one output file. Webpack will throw an error if you try anyway. As our build script continues to grow wouldn’t it be great if we could manage our configuration options an easier way….well there is!! Configuration FileLets create a configuration file called webpack.config.js for our bundling options. This can be named anything fyi! In order for Webpack to read this file correctly we need to export what’s inside it…using module.exports. Add the below code into our new config file. 123module.exports = {} Now it’s time to add in our previous command-line config options. Note: I’ll keep this section light as these config files can get a bit confusing to say the least. Check the Webpack docs for further options. 1234module.exports = { entry: \"./src/index.js\" mode: \"development\"} Update our build script to tell Webpack where our config file is and npm run build. 123\"scripts\": { \"build\": \"webpack --config webpack.config.js\"}, Awesome our bundling is coming along quite nicely. We can even split out a production & development version of our output bundles with some common options included. Two Configs with Options in CommonCreate a new common config file called webpack.common.js and add the below common config options. 1234567const options = { entry: \"./src/index.js\"}module.exports = { options} If we wanted to include multiple entry files we could. 12345678910const options = { entry: { home: './src/index.js', misc: './src/a-different-entry-file.js' }}module.exports = { options} Update our webpack.config.js to include these common options. We’ll use the ES6 spread operator to include these settings. 123456const webpackCommon = require('./webpack.common')module.exports = { ...webpackCommon[\"options\"], mode: \"development\"} Create another file called webpack.prod.js and add the following. 123456const webpackCommon = require(\"./webpack.common\")module.exports = { ...webpackCommon[\"options\"], mode: \"production\"} Finally update our npm scripts for these two new bundling modes. 1234\"scripts\": { \"build\": \"webpack --config webpack.config.js\", \"prod\": \"webpack --config webpack.prod.js\"}, Finally to test out new prod script npm run prod…👐 💥 We did it! 💥 If we check our main.js file now it’s completely minified as we’ve specified in our webpack.prod.js config file. I think that’s enough Webpack magic for now! Next time we’ll look at Webpack Dev Server in an effort to speed up our development process. SummaryWe’ve gone over some core concepts in this article including both development & production bundling modes, multiple entry files & extracting our Webpack configuration options to a couple of external files for ease of management. Next topic shall be (as mentioned above) Webpack Dev Server. Github Repo: https://github.com/shaneiadt/webpack-4-beginners/tree/master/a-little-config document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2019/07/31/Webpack-4-Beginners-Configuration/"},{"title":"Start Using the Shadow DOM","text":"What the heck is this Shadow DOM I’ve been hearing about? The Shadow DOM was created to improve encapsulation of components on the web. Previously & still to this day companies such as Facebook & Twitter expose their like & follow buttons through an iframe element. This ensures the styles of the button remain intact when used on other web pages. Yes the Shadow DOM is awesome for scoping styles to it’s child elements 👏 You can think of the Shadow DOM as a slimline version of the full Document Object Model (DOM). The good news is now we can create a similar encapsulated component without the need for any iframe use! Note: Shadow DOM is supported by default in Firefox (63 and onwards), Chrome, Opera, and Safari. The new Chromium-based Edge (75 and onwards) supports it too; the old Edge didn’t. Let The Ninja Training BeginLet’s start off with a simple HTML document. 12345678910111213141516 Simple DOM example What is the Shadow DOM? That's a pretty dang good question! This is our fallback text Now this will produce a DOM structure like so. The Shadow DOM works by allowing hidden DOM tree elements to be attached to what is called the shadow root, which is just the root node / parent element pretty much. An interesting thing to note here is the Shadow DOM isn’t anything new, browsers have been using these shadow trees to render for example a range input slider or the browsers video controls. Here’s an example of the input element with a range type using the Shadow DOM API to render the slider. The slider… Here’s a screenshot of what it looks like from dev tools. Note: you must enable the “Show user agent shadow DOM” option within the dev tools settings to see this in your console. Using The ShadowsNow let’s attempt to create our own element that uses this Shadow DOM API. First we need to select our element make it the shadow host, which is a regular DOM element which the shadow DOM is attached to. 12const shadowHost = document.querySelector(\"#root\");const shadow = shadowHost.attachShadow({mode: 'open'}); The difference with mode open & closed is with it set to open you can access the shadow DOM using JavaScript written in the main page context. Here’s what the element looks like from the dev tools now. Encapsulation FTW!Now that we have our shadow host setup we can start adding elements into it using the DOM API. Let’s create a simple paragraph tag & append it to over shadow DOM tree. 123456const paragraph = document.createElement(\"p\");paragraph.innerText = ` It's an awesome way to create re-useable encapsulated web components!`;shadow.appendChild(paragraph) Which results in a little something like so… Adding Some StyleBecause our shadow DOM is scoped to itself we can now add our own styles & they will be encapsulated to the elements we’ve attached / appended. 12345678910const styles = document.createElement(\"style\");styles.textContent = ` p { font-weight: bold; font-size: 50px; width: 50%; color: purple; }`;shadow.appendChild(styles); Pretty cool yeah I know! Our fall-back text is in place just encase the current browser doesn’t support the Shadow DOM API. Here’s the complete example we used in this article, why not test it out locally 👍 12345678910111213141516171819202122232425262728293031323334353637383940414243 Simple DOM example What is the Shadow DOM? That's a pretty dang good question! This is our fallback text const shadowHost = document.querySelector(\"#root\"); const shadow = shadowHost.attachShadow({ mode: 'open' }); const paragraph = document.createElement(\"p\"); paragraph.innerText = ` It's an awesome way to create re-useable encapsulated web components! `; shadow.appendChild(paragraph) const styles = document.createElement(\"style\"); styles.textContent = ` p { font-weight: bold; font-size: 50px; width: 50%; color: purple; } `; shadow.appendChild(styles); Lessons LearnedThe Shadow DOM itself is a collection of HTML elements (a tree) which is rendered like any other element. But unlike the DOM, a Shadow DOM Tree requires to be attached to an element within the regular DOM. Without the DOM, we are nothing 🙇 Start creating re-usable web components using the Shadow DOM API today & amaze all that surround you 😆 😂 document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2019/09/11/Start-Using-The-Shadow-DOM/"},{"title":"TypeScript Decorators","text":"First of all just so we’re clear, the idea of classes is just that, an idea. Classes by default do not exist in JavaScript, they’re just syntactic sugar. JavaScript was developed with a prototypical inheritance model. Prototype InheritanceWhat does that mean? Let’s take a look at the following TypeScript vs JavaScript output once complied. 12345678// TypeScriptclass Person { name: string = 'Dave'; speak(): void { console.log(`hi my name is ${this.name}`); }} Straight forward class called Person with a single property & method. Now look what the TS compiler does… 12345678910// JavaScript (Compiled TypeScript to ES5)var Person = (function() { function Person() { this.name = 'Dave'; } Person.prototype.speak = function() { console.log('hi my name is ' + this.name); }; return Person;})(); A Person variable is defined with the result of an IIFE. We also see there is a function declared with some property called name attached to it. Then another property called speak that is equal to an anonymous function on the Person functions prototype property. Everything in JS inherits from the Object class but only Functions have access to this prototype property. In the above example the TS complier is creating what is known as a Constructor Function. A Constructor Function gives us the ability to create a blueprint or a new object type in our program. New objects can be created using this blueprint with the new keyword like so: 12var dave = new Person();dave.speak(); // hi my name is Dave We can also define new functions on different properties after an instance of this object is created. All previous & new objects created using this Person type will have / share access to it’s parents prototype. 12345678910var dave = new Person();dave.speak(); // hi my name is Davedave.age = 38;Person.prototype.sayAge = function() { console.log(`I'am ${this.age} years old`);};dave.getAge(); // I'am 38 years old With that brief reminder out of the way…on to decorators!!! DecoratorsWhat is a decorator? A decorator is a function used to modify properties or methods on a class Note: JavaScript decorators are not the same as TypeScript decorators. We can use decorators to update properties, methods, getters & setters of a class. Also decorators at the moment are still in an experimental phase. If you want to use them in your TypeScript projects add the below to your tsconfig file. 123456{ \"compilerOptions\": { \"experimentalDecorators\": true, \"emitDecoratorMetadata\": true }} Here’s an example of a decorator in use. 123456789101112131415161718192021class Person { name: string = 'red'; get getName(): string { return `My name is ${this.name}`; } @testDecorator speak(): void { console.log('BOOM'); }}function testDecorator( target: any, key: string, desc: PropertyDescriptor): void { console.log('target:', target); console.log('key:', key);} A decorator in it’s simplest form is just a function that accepts some predefined arguments, after that it can do whatever it want’s related to that property/class. What are these arguments? 1st argument is the prototype of the object (Person.prototype) 2nd argument is the key of the property/method/accessor the decorator is applied to (‘speak’) 3rd argument is the property descriptor (null - more on this below) So this would render the same result as the decorator: 1testDecorator(Person.prototype, 'speak', null); Note: Decorators are applied when the code for this class is run initially for the first time.NOT WHEN AN INSTANCE OF THIS CLASS IS CREATED! A decorator function relates closely to functionally composition & looks a little like a higher-order component. The 3rd argument supplied to our decorator function is the property description of the current property/method this decorated is applied to. Every property/method on a class has a special property descriptor that outlines a few attributes related to itself. For example whether this property is writable & what it’s current value is. Read more about these property attributes here. Let’s update our example with a decorator for logging any errors throw. 123456789101112131415161718192021222324252627class Person { name: string = 'red'; get getName(): string { return `My name is ${this.name}`; } @logError speak(): void { throw new Error(); console.log('BOOM'); }}function logError(target: any, key: string, desc: PropertyDescriptor): void { const method = desc.value; desc.value = function() { try { method(); } catch (e) { console.log('Opps, no dice!'); } };}new Person().speak(); Decorator FactoriesIn the above decorate example we are getting a reference to the current value of the property (which is a function) & assigning it to a new variable called method. So whenever the speak function is invoked it will be wrapped in the try/catch block we wrote inside our decorator. What if we wanted to reuse this logError decorator & provide a custom error message. We can’t just simply passing some params like so: 12345@logError('Ohhh no explosions!') // TypeScript will slap you!!speak(): void { throw new Error(); console.log('BOOM');} We need to use something called a decorator factory. Which is just like a normal factory function in that it returns a function. Here’s an example: 12345678910111213function logError(errorMessage: string) { return function(target: any, key: string, desc: PropertyDescriptor): void { const method = desc.value; desc.value = function() { try { method(); } catch (e) { console.log(errorMessage); } }; };} Now we can pass in an argument with our function similar to the example above. Property Access LimitationOne limitation to using decorators is the fact we can’t get direct access to the value of any properties defined within our class. Attempting to read the persons name from a decorator like so will not work: 12345678class Person { @testDecorator name: string = 'red';}function testDecorator(target: any, key: string) { console.log(target.name);} There are also two other types of decorators we can use: parameter decorators & class decorators. 123456789101112131415161718192021222324252627282930313233343536373839404142@classDecoratorclass Person { @testDecorator name: string = 'red'; @testDecorator get getName(): string { return `My name is ${this.name}`; } @logError('Ohhh no explosions!') speak(@paramDecorator lang: string): void { console.log('BOOM'); }}function classDecorator(constructor: typeof Person) { console.log(constructor);}function paramDecorator(target: any, key: string, index: number) { console.log(key, index);}function testDecorator(target: any, key: string) { console.log('target', target); console.log('key', key);}function logError(errorMessage: string) { return function(target: any, key: string, desc: PropertyDescriptor): void { const method = desc.value; desc.value = function() { try { method(); } catch (e) { console.log(errorMessage); } }; };} So we have 5 different types of decorators at our disposal: Class decorators Method decorators Accessor decorators Property decorators Parameter decorators If you fancy reading more on TypeScript decorators check this out. 👍 document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/01/06/TypeScript-Decorators/"},{"title":"Webpack 4 Beginners","text":"In this article we will run over the basic setup for Webpack 4. Why Webpack & not some other bundler like Parcel or RollUp? I know Webpack so I figured that would be a good start, lets keep it simple shall we! Bundlers in general can make your dev life a lot easier & far more productive, but some can absorb you into config hell! For example here’s a zero configuration Webpack project minus the hair plugging. Let’s create our project & setup npm as our package manager of choice. The -y flag tells npm to use the default package.json configuration, I don’t care for questions thank you very much. 123mkdir webpack-4-begginnerscd webpack-4-beginnersnpm init -y Oh yeah we need to install Webpack 4 & Webpack CLI as our development dependencies (the -D flag is shorthand for –save-dev) & also if you don’t already have it Node(I’m currently using v10.15.3). 1npm i webpack webpack-cli -D Now we can create our main index.js file which will be the entry point for our application…or at least that’s what we’ll tell our bundler. By default with zero config Webpack will look for our entry file in the src folder of the current directory. So let us oblige. Otherwise you’ll get an error & have to create it anyway, suit yourself really. 123456mkdir srccd srcecho >> index.js (Windows)touch index.js (Mac) Let’s throw something into our index file. 1console.log('Webpack 4 Beginners') All we need to do now is tell Webpack to do it’s magic on the stuff using the scripts section of our package.json file. 12345678910111213141516{ \"name\": \"webpack-4-beginners\", \"version\": \"1.0.0\", \"description\": \"\", \"main\": \"./src/index.js\", \"scripts\": { \"build\": \"webpack\" }, \"keywords\": [], \"author\": \"\", \"license\": \"ISC\", \"devDependencies\": { \"webpack\": \"^4.38.0\", \"webpack-cli\": \"^3.3.6\" }} Let the bundling commence!!! Alternatively you could run webpack straight from the command-line. 1npm run build Will you look at that we did it! A lovely dist folder containing a main.js file with some crazy looking JavaScript inside. This is our bundled js believe it our not. To demonstrate copy the code from your main.js file open your console window in Chrome (or whatever browser you’re using) & run it. We now have a simple module bundler setup, what now? Let’s test our bundler to make sure it’s actually working. Create a new file in your src directory called message.js with the below js. 1export default \"Webpack is Awesome!\" Update your index.js file to the below 123import message from './message'console.log(message) Now run our bundler again npm run build and boom our main.js file has been updated once more. Let’s inspect the output as we’re only using console.log through the command-line. Run node dist/main.js from your project directory & you should see something Awesome appear. ✨ Our bundler is looking pretty good now, these are just the basics of course. If you fancy diving into some more details around configuring your bundler why not check out the docs. In the next article I will be covering Webpack Dev Server to improve our development workflow, along with Entry & Output configuration our your bundler. Github Repo: https://github.com/shaneiadt/webpack-4-beginners Exciting times I know woop woop! Go forth and bundle my friends 👋 document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2019/07/29/Webpack-4-Beginners/"},{"title":"What Is Docker?","text":"Continuous development on a project will result in it expanding (it’s natural man deal with it 🍀), as our projects / services grow so will our code base…into a monolithic monster! Managing & monitoring these services can be a massive pain…even setting up an environment to develop on can take some time & produce unwanted brain headaches 😵 Enter Docker! This mystical application gives us a way to run all our services or docker images across multiple environments preventing that initial environment setup and management fuss! With multiple layers / microservices working together in tandem Docker builds containers around each service layer and exposes it on our dev machine. Note: Docker images & compose files can also be built & run in the cloud with something like Azure Container Registry. Before developers had to wrestle with virtualised machines like VMWare, VirtualBox and other sandbox environments. Which did the job but weren’t ideal or easy to setup. With Docker as our container platform we can wrap each service up with everything it needs to run including runtime variables and even what system tools to use. This is essentially a light-weight alternative to a full virtual machine. Using the host machine we can build images & containers that are highly scalable and super fast to spin up and deploy. What are containersA container consists of an image file with some Docker specific commands around what we want it to do once built & run. This image or dockerfile is used to bundle our application into a single executable package. This application is initially running in isolation from our host machine environment. Each image has access to a fully writable file system, volumes and other OS commands for extra functionality. Docker HubIf you’ve ever come across a package manager like NPM, Yarn or NuGet this is the equivalent repository for docker images & containers. Much like npm you can clone / download images written by others & run them on your machine. Installing DockerFollow the instructions here: https://www.docker.com/get-started. Signup, Verify & Download! Our first DockerfileOnce we have docker running on our machine it’s time to test this puppy out! Create a new folder (call it whatever you like) & create a dockerfile inside. Filename is dockerfile no dot file extensions or anything required. Most modern IDE’s will have built in support for recognising this type of file. As dockerfiles do not expose a port by default we will run this using docker-compose. This is pretty much a container manager & it comes with your Docker Desktop install by default. Enjoy the whale icon 🐳 What are we going to build you ask? Let’s start with a simple Express server setup for some super-sweet app we have in the works 😎 Github: https://github.com/shaneiadt/docker-with-node-example Clone the repo, build & run: 1docker-compose up --build In your browser navigate to http://localhost:3030 and you should see that our node server is running! Docker CommandsThe most common docker commands you will see are as follows: FROM (Pulls images from docker hub registry) WORKDIR (Specifies the current working directory) COPY (does what is says…copies files & folders) RUN (executes command-line stuff…this is also know as an “Image Build Step“) CMD (You will usually only see one CMD with a array of arguments) Docker ComposeWhat about this composer deal? Well Docker Compose handles the running of multiple containers. First you setup what services to orchestrate including the service name, container to build & what port to expose this service on. It is also good practice to get into the habit of cleaning up your containers by running: 1docker-compose down As we are only dipping our toe into the Docker world I won’t go too much into volumes for interacting with the file system or some other docker / compose commands. If you’d like to read more I’d highly recommend taking a whirl through the official docs. To summarise Docker is awesome, play around with it & try converting a small project into a container for practice. document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2019/10/14/What-is-Docker/"},{"title":"Webpack 4 Beginners Dev IT Faster","text":"Welcome to Part 3 of our journey into understanding Webpack just a wee bit better together! If you haven’t read any of the previous articles I’d suggest having a goo. Part 1: Zero Config Part 2: A Little Config Goes A long Way In this instalment we shall be attempting to speed up our development process by configuring our project with Webpack Dev Server. Dev server comes with some cool out of the box configuration such as automatic live page reloading so every time we make a change to a file our server will re-compile & serve. Some other optionals are enabling source-maps for debugging. We left off from here last time: https://github.com/shaneiadt/webpack-4-beginners/tree/master/a-little-config Installing Webpack-Dev-ServerOk let’s get to it, first install webpack-dev-server. 1npm i -D webpack-dev-server Update our npm scripts to run our dev server locally. Note we are still pointing to our development config webpack setup. 1234\"scripts\": { \"start\": \"webpack-dev-server --config webpack.config.js --open\", \"prod\": \"webpack --config webpack.prod.js\"}, We also need to update over dev configuration settings to tell Webpack Dev Server a few important things like what directory to server locally! We’ll also enable source-maps out of the box too 😄 Update webpack.config.js to the below. 12345678910const webpackCommon = require('./webpack.common')module.exports = { ...webpackCommon['options'], mode: 'development', devtool: 'inline-source-map', devServer: { contentBase: './dist' }} From here yes we can run out npm start script to launch our dev server which will server our ./dist directory like so. For example sake & ease let’s create an index.html file so our bundle.js can load into for dev purposes. The simplest way to do this is to use a plugin called html-webpack-plugin Bah! What are these plugins you speak of, begone demon! Not to fret as you may have guessed by now Webpack can be configured quite extensively, (quote straight from the docs) plugins are the backbone of Webpack! Let’s not dive to deep into plugins just quite yet. Installing Our First PluginWe’re just telling our bundler to create a default html document to inject our bundle JavaScript file into…that’s it…simple, now let’s move on. More on plugins at a later stage. Install the plugin. 1npm i -D html-webpack-plugin Add it into our webpack.common.js file as we want it to create a new html file for both our development & production builds / bundles. 12345678910111213const HtmlWebpackPlugin = require('html-webpack-plugin');const options = { entry: { home: './src/index.js', misc: './src/a-different-entry-file.js' }, plugins: [new HtmlWebpackPlugin()]}module.exports = { options} And that’s it….now run npm start test. A new browser window should open up on your localhost displaying a blank page. Open your dev tools & you should see some console logs appear! Testing Live ReloadingBrilliant stuff now let’s update something in one of our files to see if our dev server is reloading when one of our files update. Update ./src/message.js to: 1export default \"Webpack is even awesomer with Webpack Dev Server!!!\" Now save & you should see in your terminal window our dev server re-compile all our assets & automagically ❇ update everything being served locally. Further ConfigurationWe can configure our dev server a number of different ways. Here’s a couple examples: openPage: which page to navigate to first when your browser pops open. publicPath: where our static files will be served & can be accessed from. https: we can enable https support. headers: add additional headers to all responses. These are only a few options, for more read the docs, at the moment let’s just set our output folder & port number. Update webpack.config.js. 1234567891011const webpackCommon = require('./webpack.common')module.exports = { ...webpackCommon['options'], mode: 'development', devtool: 'inline-source-map', devServer: { contentBase: __dirname + '/dist', port: 9000 }} SummaryIn this short article we’ve managed to speed up our development process considerably by utilising webpacks-dev-server. We also configured some common settings & installed our very first plugin! Woop Woop 👏 We’ll dive more into webpack plugins next time to see how powerful and flexible they can make our build process. Github Repo: https://github.com/shaneiadt/webpack-4-beginners/tree/master/dev-it-faster document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2019/08/19/Webpack-4-Beginners-Dev-IT-Faster/"},{"title":"Functional Programming in JS","text":"What is Functional Programming?You may have heard this magical phrase Functional Programming (FP) flying around recently. Some people are touting it as the new or best approach for any project. The truth is FP has being around since the 1930’s specifically using LISP) originally specified in 1958. FP came from mathematics & is originally based on functional abstraction with Lambda Calculus. Some of the most popular FP languages at the moment are Haskell, Scala & Clojure. Luckily for us JavaScript supports all of the awesome conceptions we’re going to cover in this article. Core PrinciplesStick to these guys & you’ll be fine: A perfect function should… have only one task be predictable and easy to understand not rely on any external shared state be composable not directly mutate state, it should be immutable return the same amount of arguments from input to output cause no side-effects The idea behind FP is much the same as Object Oriented Programming (OOP): Don’t repeat yourself (DRY) Memory efficient Easy to extend Easy to maintain Understandable With these principles we can take advantage of Functional Programming to create a separation of concerns when writing our functions. With no classes definitions and a reliance on data & the functions that manipulate this data to be separate, we can reduce the number of potential bugs that might pop up and increase the overall speed of our application. FP mostly relies on well structured data types such as Arrays, Objects, Dictionaries & Lists. A little note before we continue, as we know functions in JS are considered first class citizens. Meaning they can be: assigned to a variable ✔123const func = () => 'BOOM'console.log(func()) passed as arguments into other functions ✔1234567const speak = (str) => console.log(str)function doStuff(fn){ fn('Hello')}doStuff(speak) returned by functions ✔1234567const giveMeAFn = () => { return (msg) => console.log(msg)}const fn = giveMeAFn()fn('JS is super sweet!') Pure Functions A Pure Function… is not influenced by anything other than the input parameters it receives. Passing in the same parameters will always result in the same output. does not cause any side-effects (doesn’t change any external or global scope variables) never changes any of the parameters it is passed in, this data should be considered immutable. We can however copy / clone any input parameters 👍 should be referentially transparent….click the link for a better definition than I could muster 😄 should only rely on it’s local variable scope Following these steps will make our functions easy to test & highly composable. Here is an example of a impure & pure function: impure 😳In this example we’re mutating a globally scoped variable by pushing a string into the array 😭 1234567const names = []function addName(n){ names.push(n)}addName('John') pure 😇In this example we’re taking in an array & string then returning a brand new array 😎 12345678910const names = []function addName(names, name){ return [ ...names, name ]}const newNames = addName(names, 'Donny') Can everything be Pure?Technically retrieving an input & producing an output is in itself a side-effect. It’s practically impossible to produce a program without some side-effects existing in some way. Side-effects & impurity aren’t bad, but reducing the amount that occur will make our program easier to understand & more reusable. The goal is to reduce the amount of side-effects required to make our program run smoothly. IdempotenceWhat the hell is this craziness??? 😨 In simple terms idempotence means when we run the same function with the same parameters multiple times the result will always be the same. Your functions should not communicate with the outside world & always does what we expect it to do. This makes our code more predictable & becomes a highly useful strategy within distributed & parallel systems. BAD TIME 💩This will result in a different result every single time! 1234567function badtime(n){ return Math.random(n)}console.log(badTime(69))console.log(badTime(69))console.log(badTime(69)) GOOD TIME 🤘This will result in the same result every single time! 1234567function goodTime(n){ return n * n}console.log(goodTime(69))console.log(goodTime(69))console.log(goodTime(69)) Imperative vs DeclarativeIn FP we strive for a more declarative set of instructions that we hand off to (usual) a complier of some kind to create a more imperative version of our code. Imperative = “Code that tells the machine what to do & how to do it“ Declarative = “Code that tells the machine what to do & what should happen“ We mere humans are more declarative creatures, for example if we were to tell our friend to grab a coffee for us while on their way to your place: Imperative instructions: Go to the newsagent Pick up an empty coffee cup Push button on machine Take out wallet Pay at counter ….etc Declarative instructions: Buy coffee for me FP helps us be more declarative with our programs. Making them easier to read at a high-level 😁 ImmutabilityThis means not changing the data or state of your program. So what do we do instead? We can make a copy of our data & return a new result. Mutable1234567const obj = {title: 'Mister Cucumber'}function clone(obj){ obj.title = 'MUTATION' // object property reference mutated}obj.title = 'NOOOOOO' // object property reference mutated Immutable1234567const obj = {title: 'Mister Cucumber'}function clone(obj){ return {...obj}}const clonedObj = clone(obj) This makes each function easier to test & never updates global state or causes any side-effects 😏 …but wait what about memory? Aren’t we creating unnecessary variables & filling up our heap? I’m not the best at explaining this so here’s an article on Structural Sharing to answer these burning questions! Higher Order Component & ClosuresWhat is a Higher Order Component (HOC): A higher order component is a function that does one of two things1) it takes one or more functions as parameters or2) it returns a function as a result Why is this important? With HOC functions we can abstract operations & compose multiple functions together. Making them highly reusable. Here’s two examples: 1234567const speak = (msg) => console.log(`${msg}: Says Hello!`)function person(fn){ fn('Shane')}person(speak) 12345678function person(name) { return () => { console.log(`My names is ${name}`) }}const p = person('Shane')p() What is Closure:This is a very powerful mechanism in JS we can use to maintain / contain some kind of state. 1234567891011121314151617181920212223242526function counter(){ let count = 0 function incrementCount(){ count++ } function getCount(){ return count } return { getCount, incrementCount }}const newCounter = counter()console.log(newCounter.getCount())newCounter.incrementCount()newCounter.incrementCount()newCounter.incrementCount()console.log(newCounter.getCount()) Like objects, closures as mentioned above can help us maintain some state within our program. A closure is created when a function accesses a variable outside of it’s immediate function scope. Pretty much if it doesn’t exist within the current context go up the scope chain & ask the parent(s). This can potentially lead to some impure operations if we’re not careful. 🙉 Currying 🍛A curried function is simply a function that takes multiple arguments one at a time. 123const add = (a) => (b) => a + badd(2)(4) Using currying we can create some awesome utility functions like so: 1234567const multiply = (m) => (n) => m * nconst multiplyByTwo = multiply(5)const multiplyByThree = multiply(3)multiplyByTwo(3) // 15multiplyByThree(3) // 9 Partial ApplicationSimilar to Currying but slightly different. It’s a way to partially apply some arguments to a function. This is a process of producing a function with a smaller number of parameters. Taking a function & applying some of the arguments on the initial call, then on the second it expects all / the rest of the arguments. 12345const multiply = (a, b, c) => a * b * cconst partialMultiplyByTwo = multiply.bind(null, 2);partialMultiplyByTwo(4, 3) // 24 Memoization = CachingIs a way to store values for use later on. It is a dynamic programming approach in an effort to increase your programs speed. It caches the return value based on the parameters given. This is another example of utilising a function closure to persist our cached object in the functions local scope 💪 12345678910111213141516171819function memoization(){ let cache = {} return (value) => { if(value in cache) { return cache[value] } cache[value] = value * 10 return cache[value]; }}const memo = memoization()console.log(1, memo(5)) // add's the property & result to it's local cache objectconsole.log(2, memo(5)) // see's the property in cache & returns it ArityLet’s keep things simple once again. Arity refers to the number of arguments a function takes. 🌈 Fewer arguments === Greatest of success && flexibility😖 More arguments === Saddest of the times && difficulty Compose & PipeComposing is a system principal design pattern. It abstracts data transformations into smaller obvious chunks. These smaller chunks can be composed into the desired configuration. This allows us to change the order of operations on our data a lot easier. 123456789101112const double = (num) => num * 2const triple = (num) => num * 3const square = (num) => num * numconst compose = (a, b, c) => (data) => a(b(c(data)))const pipe = (a, b, c) => (data) => c(b(a(data)))const doCompose = compose(triple, double, square)const doPipe = compose(triple, double, square)console.log('compose',doCompose(2))console.log('pipe',doPipe(2)) The difference between compose & pipe is: compose applies it’s arguments from right to left. pipe applies it’s arguments from left to right. Here’s another example were we are invoking the buyItem function & calling the compose function on every function argument while passing the data along the chain. 123456789101112131415161718192021222324const compose = (f, g) => (...args) => f(g(...args));buyItem( addTax, titleToUpperCase)({ title: 'Teddy Bear', price: 5 })function buyItem(...fns) { return fns.reduce(compose)}function addTax(item) { return { ...item, price: item.price + 10 }}function titleToUpperCase(item){ return { ...item, title: item.title.toUpperCase() }} Is FP the answer to everything?Just like most topics when it comes to computer science we shouldn’t take a 100% literal approach at all times. Nothing would ever get done in that case 😵 Functional Programming does promote a more: Predictable Easy to understand Composable Reduced bug environment With these shiny rewards awaiting there isn’t anything stopping us from throwing a little sprinkle of FP magic from time to time in an effort to build better applications. Still hungry, check out RxJS & Ramda or even Lodash. document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2019/12/11/Functional-Programming-in-JS/"},{"title":"SQL 101 the Refresher","text":"But I’m a Frontend DevYes, but without backend servers there would be no front-to-end 😆. Having some basic knowledge of relational databases and in particular SQL will always come in handy. First things first, we need a couple of tables to re-jig that brain matter 🤔 Gimme Them TablesLet’s use an example of a school, teacher and student database. If you fancy following along all you will need is a local installation of MySQL and a SQL editor. I enjoy using Beekeeper Studio, it’s open source and I find it straight forward to use. PK = Primary KeyFK = Foreign Key Student Table student_id (PK) first_name last_name date_of_birth school_id (FK) 1 John Donut 1997-04-15 1 2 Alison Bragg 1996-02-08 2 3 Morgan Lambert 1994-11-19 1 4 Peter Spector 1998-01-20 3 Teacher Table teacher_id (PK) first_name last_name start_date school_id (FK) 1 Mary Harkin 1987-01-19 2 2 John Anderson 1981-08-06 1 3 Paul Berger 1988-09-22 1 4 Ann Connors 2000-02-07 3 School Table school_id (PK) name eircode principal_id (FK) 1 St. Mildrews F903LH 1 2 Mount View Highschool GH123M 2 3 Athlone College 4TY21B 4 Create Them TablesLet the creation begin 😈 12345678910111213141516171819202122CREATE TABLE student ( student_id INT PRIMARY KEY, first_name VARCHAR(40), last_name VARCHAR(40), date_of_birth DATE, school_id INT);CREATE TABLE teacher ( teacher_id INT PRIMARY KEY, first_name VARCHAR(40), last_name VARCHAR(40), start_date DATE, school_id INT);CREATE TABLE school ( school_id INT PRIMARY KEY, name VARCHAR(40), eircode VARCHAR(40), principal_id INT); ….one more thing we will need to setup is the table relationships. 1234567891011121314ALTER TABLE studentADD FOREIGN KEY(school_id)REFERENCES school(school_id)ON DELETE CASCADE;ALTER TABLE teacherADD FOREIGN KEY(school_id)REFERENCES school(school_id)ON DELETE CASCADE;ALTER TABLE schoolADD FOREIGN KEY(principal_id)REFERENCES teacher(teacher_id)ON DELETE SET NULL; The “ON DELETE“ key phrase ensures when a row from another table is deleted either to set the value in the referencing table to NULL or completely remove the row from the table. Add Some DataNow that we have our tables created let’s add some data so we can run some queries. First let’s add the school data, note we have not specfied a principal_id because we don’t have any teacher data inserted yet. 1234--Add The SchoolsINSERT INTO school(school_id, name, eircode) VALUES(1, 'St. Mildrews', 'F903LH');INSERT INTO school(school_id, name, eircode) VALUES(2, 'Mount View Highschool', 'GH123M');INSERT INTO school(school_id, name, eircode) VALUES(3, 'Athlone College', '4TY21B'); 12345--Add The TeachersINSERT INTO teacher VALUES(1, 'Mary', 'Harkin', '1987-01-19', 2);INSERT INTO teacher VALUES(2, 'John', 'Anderson', '1981-08-06', 1);INSERT INTO teacher VALUES(3, 'Paul', 'Berger', '1988-09-22', 1);INSERT INTO teacher VALUES(4, 'Ann', 'Connors', '2000-02-07', 3); 12345--Add The StudentsINSERT INTO student VALUES(1, 'John', 'Donut', '1997-04-15', 1);INSERT INTO student VALUES(2, 'Alison', 'Bragg', '1996-02-08', 2);INSERT INTO student VALUES(3, 'Morgan', 'Lambert', '1994-11-19', 1);INSERT INTO student VALUES(4, 'Peter', 'Spector', '1998-01-20', 3); …and finally let’s ALTER our school data to set a principal relationship for each school. 1234567891011UPDATE schoolSET principal_id = 1WHERE school_id = 1;UPDATE schoolSET principal_id = 2WHERE school_id = 2;UPDATE schoolSET principal_id = 4WHERE school_id = 3; We now have our tables & data ready for some querying 😁 SimpleQueryLanguageLet’s start with making some straight forward queries and solving the prompts below 👍 SELECT123--Get all students who were born before 1997SELECT * FROM studentWHERE date_of_birth < '1997-01-01'; student_id (PK) first_name last_name date_of_birth school_id (FK) 2 Alison Bragg 1996-02-08 2 3 Morgan Lambert 1994-11-19 1 WILDCARDS% = any number of characters_ = one character 123--Get the school that contains 'Highschool' in it's name SELECT * FROM schoolWHERE name LIKE '%Highschool'; school_id (PK) name eircode principal_id (FK) 2 Mount View Highschool GH123M 2 12345--Get all teachers that have a four letter first name and started work in August or SeptemberSELECT * FROM teacherWHERE LENGTH(first_name) { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/09/05/SQL-101-The-Refresher/"},{"title":"Are Class Components Dead? - React Hooks","text":"Since the full release of Hooks with React version 16.8 the community has almost gone insane. Some developers have gone so bat shit crazy they’ve re-written all their apps to use React Hooks! What are hooks? Plainly put, like most things JavaScript they’re just functions….simples! But with the power of scope closures they expose the beauty of Reacts state, lifecycle methods & even Context API. You can even write your own hooks if you fancy. What kind of stuff can we do with Hooks, why should I care? Class components work just fine when I need some state & functional components are great for returning some JSX using a straight forward JS function. But wouldn’t it be cool if you could upgrade these functional components to have their own internal state or do some processing when mounted instead of relying on the parent component to decide if it needs to be re-render or not. Let’s start off simple & sprinkle a bit of state on the situation. useStateThis hook is amazing, it works slightly different from the class based approach. Instead of managing your state in one big object, which you still can do of course. With useState we can create slices of state like so. View Demo Code 12345678910111213141516171819202122232425262728293031import React, { useState } from \"react\";import ReactDOM from \"react-dom\";function WhatTheState() { const [count, setCount] = useState(0); const [text, setText] = useState(null); return ( {text !== null ? ( Hello my name is {text} & you pushed my button {count} times setCount(count + 1)}>Click mebutton> ) : null} {text === null ? Enter your name to start pushing!!p> : null} type=\"text\" value={text} onChange={event => setText(event.target.value)} /> div> );}const rootElement = document.getElementById(\"root\");ReactDOM.render(, rootElement); { // Just Like componentDidMount() setText(\"Johnny\") },[]) return ( {text !== null ? ( Hello my name is {text} & you pushed my button {count} times setCount(count + 1)}>Click mebutton> ) : null} {text === null ? Enter your name to start pushing!!p> : null} type=\"text\" value={text} onChange={event => setText(event.target.value)} /> div> );}const rootElement = document.getElementById(\"root\");ReactDOM.render(, rootElement); { // Similar to componentDidUpdate, we are watching for changes to the text variable setText(\"Johnny\") },[text]) Last but not least we can also fire some function based on the component unmounting too. By default if your useEffect function returns a function it will invoke it when the component is unmounted. 1234567useEffect(() => { // Similar to componentDidUpdate, we are watching for changes to the text variable setText(\"Johnny\") return function cleanup() { // Do some cleanup logic here! }; },[text]) What if we’re using some global state i hear you ask? Enter React’s Context API….but wait because we’re using functional components we need to use a hook instead…useContext hook to be exact. useContextBy far for me this hook is one of the best. I wouldn’t say I’ve had any issues with React but for a long time there was no way to manage global app state without using a third party package such as React Redux or React Easy State. Passing props around to other components can be ok when it’s two or three, but when you’re passing down props through maybe 5 different components just to tell a button the app is in a loading state it becomes a bit much! View Demo Code 12345678910111213141516171819202122232425262728293031323334353637import React from \"react\";import ReactDOM from \"react-dom\";import \"./styles.css\";class App extends React.Component { state = { loading: true }; render() { return ( \"App\"> this.state.loading} /> ); }}const Form = ({ loading }) => { return ( Fill Me Inh2> \"text\" /> form> );};const Button = ({ loading }) => { if (loading) return No Button Form is Loadingp>; return Submitbutton>;};const rootElement = document.getElementById(\"root\");ReactDOM.render(, rootElement); Do not fret my friends, useContext gives us access to extend our functional components. The below example illustrates how we can create some context & subscribe to it within our functional components using Reacts useContext hook. View Code Demo 123456789101112131415161718192021222324252627282930313233343536373839404142import React from \"react\";import ReactDOM from \"react-dom\";import \"./styles.css\";const AppContext = React.createContext({ loading: \"\" });class App extends React.Component { state = { loading: true }; render() { return ( \"App\"> this.state.loading} /> AppContext.Provider> ); }}const Form = () => { return ( Fill Me In > form> );};const Button = ({ loading }) => { const context = React.useContext(AppContext); if (context.loading) return No Button Form is Loadingp>; return Submitbutton>;};const rootElement = document.getElementById(\"root\");ReactDOM.render(, rootElement); Of course you could use another state management package but I like this approach as we’re relying on one package without any third party setup, no messing around with mapStateToProps for me anymore. Why mess with extra libraries when React provides a tool for exactly what we’re trying to solve. Side note: The size of your state will most likely determine the kind of management system you want to adopt. Last but not least React gives us the option to extend this architecture with the useHook function. This is prime time for a custom hook you might have in mind. I would provide another demo but my face is tired, have a read of this if you’re interested. ConclusionFirst off, React as a whole is amazing & I’m so glad I have the opportunity to develop with it every day…and get paid! Hooks are an amazing feature the React team have provided us with but understanding the core concepts of the React ecosystem & architecture in my opinion boils down to a strong grasp of stateful vs functional components. If you can write an app using only class based stateful components go right ahead, stateful container components aren’t leaving us anytime soon. Class components are a staple in React as far as understanding goes that’s for sure. Hooks just give it a little extension for those pure functions that don’t require a full state render method to be defined. Need some scoped state, useState…need some lifecycle management / side-effects to happen useEffect…want to clean up your global context state useContext…have an idea for a reusable hook…build your own! There are a couple of advanced uses regarding useContext coupled with useReducer & some Higher Order Components (HOC) to completely over all your state management which you can have a read of here. Also I’d like to point out there are a couple more hooks I haven’t mention in this article for example useMemo, useRef & a couple others. Love hooks or React? Read more React Hooks document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2019/06/22/Are-Class-Components-Dead-React-Hooks/"},{"title":"Multiple Selection & Group Dragging - InteractJs & Svelte","text":"If you’ve ever touched the HTML Drap and Drop API you’ll know it can be a bit overwhelming somethings. To minimise the amount of fiddling we’re going to use an open source library called interact.js. Check it out, they have some great demo’s & documentation. Also we will be building our little app with Svelte, if you haven’t heard of it I’d highly advise you go have a look….like right now it’s awesome! TL;DR CodeSandbox: https://codesandbox.io/s/github/shaneiadt/interactjs-and-svelte Github: https://github.com/shaneiadt/interactjs-and-svelte Setting Things UpCreate a new CodeSandbox or bootstrap a new Svelte project somewhere. Use npm or yarn to install a new dev dependency called interactjs. That’s it pretty simple I like it :) HTML & CSSHTML 123456 Item 1 Item 2 Item 3 Item 4 CSS 123456789101112131415161718192021222324252627282930313233343536373839#container { background: lightgray; height: 100vh;}.item { display: flex; justify-content: center; align-items: center; position: absolute; background: lightblue; width: 100px; height: 100px; cursor: pointer; border-radius: 10px; padding: 1em; touch-action: none; transition: box-shadow 0.5s;}.item:hover { -webkit-box-shadow: 0px 10px 15px 0px rgba(0, 0, 0, 0.1); -moz-box-shadow: 0px 10px 15px 0px rgba(0, 0, 0, 0.1); box-shadow: 0px 10px 15px 0px rgba(0, 0, 0, 0.1);}.item:nth-child(1) { top: 100px; left: 100px;}.item:nth-child(2) { top: 30px; left: 300px;}.item:nth-child(3) { top: 400px; left: 320px;}.item:nth-child(4) { top: 250px; left: 200px;} You should end up with something that looks like this. Moving Stuff AroundI won’t go into too much detail with the interactjs setup & options. Follow along for now & dive into the documentation if you fancy. To get our items to become draggable we need to first allow the DOM to render run each element through the interact function exported from the interactjs package with some options applied. As we need to wait until the DOM has render we’ll be using sveltes onMount lifecycle function. 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576import { onMount } from \"svelte\";import interact from \"interactjs\";onMount(() => { const elements = [...document.querySelectorAll(\".item\")]; if (elements) { for (const el of elements) { interact(el) .draggable({ modifiers: [ interact.modifiers.snap({ targets: [ interact.createSnapGrid({ x: 20, y: 20 }) ], range: Infinity, relativePoints: [ { x: 0, y: 0 } ] }), interact.modifiers.restrict({ restriction: el.parentNode, elementRect: { top: 0, left: 0, bottom: 1, right: 1 }, endOnly: true }) ], inertia: true }) .on(\"dragmove\", event => { const items = document.getElementsByClassName(\"selected\"); const { dx, dy } = event; const parseDataAxis = target => axis => parseFloat(target.getAttribute(`data-${axis}`)); const translate = target => (x, y) => { target.style.webkitTransform = \"translate(\" + x + \"px, \" + y + \"px)\"; target.style.transform = \"translate(\" + x + \"px, \" + y + \"px)\"; }; const updateAttributes = target => (x, y) => { target.setAttribute(\"data-x\", x); target.setAttribute(\"data-y\", y); }; if (items.length > 0) { for (const item of items) { const x = parseDataAxis(item)(\"x\") + dx; const y = parseDataAxis(item)(\"y\") + dy; translate(item)(x, y); updateAttributes(item)(x, y); } } else { const { target } = event; const x = (parseDataAxis(target)(\"x\") || 0) + dx; const y = (parseDataAxis(target)(\"y\") || 0) + dy; translate(target)(x, y); updateAttributes(target)(x, y); } }); } }}); I hope you’ve just copy & pasted the above, it may look a bit complicated but take some time to read each section and hopefully it’ll make a bit more sense. Another option would be to also not and carrying on 😆 One last step is to update our item elements setting their initial x, y position. 123456 Item 1 Item 2 Item 3 Item 4div> Drawing Our Marquee Selection ToolWe need to do a couple of different things here such as: Reference the container / canvas Reference the marquee selection element we will be drawing Track the mouse move position within the div container element Fire an event on mouseDown & mouseUp Detect when our marquee selection has collided with any div items Ok let’s do this… Create our variables12345678let canvas;let element;const mouse = { x: 0, y: 0, startX: 0, startY: 0}; Event handling functions1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162function mouseDown(e) { if (e.target.id === \"container\") { const rects = [...canvas.querySelectorAll(\".selection\")]; if (rects) { for (const rect of rects) { canvas.removeChild(rect); } } mouse.startX = mouse.x; mouse.startY = mouse.y; element = document.createElement(\"div\"); element.className = \"selection\"; element.style.border = \"1px dashed black\"; element.style.position = \"absolute\"; element.style.left = mouse.x + \"px\"; element.style.top = mouse.y + \"px\"; canvas.appendChild(element); } } function mouseMove(e) { setMousePosition(e); if (element) { element.style.width = Math.abs(mouse.x - mouse.startX) + \"px\"; element.style.height = Math.abs(mouse.y - mouse.startY) + \"px\"; element.style.left = mouse.x - mouse.startX < 0 ? mouse.x + \"px\" : mouse.startX + \"px\"; element.style.top = mouse.y - mouse.startY < 0 ? mouse.y + \"px\" : mouse.startY + \"px\"; } } function mouseUp(e) { element = null; const rect = canvas.querySelector(\".selection\"); const boxes = [...canvas.querySelectorAll(\".item\")]; if (rect) { const inBounds = []; for (const box of boxes) { if (isInBounds(rect, box)) { inBounds.push(box); } else { box.style.boxShadow = \"none\"; box.classList.remove(\"selected\"); } } if (inBounds.length >= 2) { for (const box of inBounds) { box.style.boxShadow = \"0 0 3pt 3pt hsl(141, 53%, 53%)\"; box.classList.add(\"selected\"); } } if (rect) canvas.removeChild(canvas.querySelector(\".selection\")); } } Tracking mouse position & element colliding1234567891011121314151617181920212223function setMousePosition(e) { const ev = e || window.event; if (ev.pageX) { mouse.x = ev.pageX + window.pageXOffset; mouse.y = ev.pageY + window.pageYOffset; } else if (ev.clientX) { mouse.x = ev.clientX + document.body.scrollLeft; mouse.y = ev.clientY + document.body.scrollTop; }}function isInBounds(obj1, obj2) { const a = obj1.getBoundingClientRect(); const b = obj2.getBoundingClientRect(); return ( a.x < b.x + b.width && a.x + a.width > b.x && a.y < b.y + b.height && a.y + a.height > b.y );} Update HTML123456 Item 1 Item 2 Item 3 Item 4div> Phew! 😅That was quite a lot…but at the end of all this we should have a little some some like so… Still interested? Checkout the sandbox or github repo 💗 CodeSandbox: https://codesandbox.io/s/github/shaneiadt/interactjs-and-svelte Github: https://github.com/shaneiadt/interactjs-and-svelte document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/05/09/Multiple-Selection-Group-Dragging-InteractJs-Svelte/"},{"title":"Git Know How","text":"Git is probably the most commonly used yet misunderstood tool in a developers arsenal. With Git power comes Git responsibilty! I find it’s always good to refresh core skills every now and again. The below list of topics cover mostly everything (90%) of what you’ll need in your dev to dev activities. Adding and Committing Branching Merging Rebasing Relative Refs Branch Forcing Reversing Changings Cherry Picking Interactive Rebase Git Tags Git Fetch Git Pull Git Push Adding and CommittingIn laymens terms this is similar to a large copy & paste, of just your tracked files of course. Think of commits as snapshots of your project directory. Commits are super lightweight & jumping from one to another is extremely fast. 1234567891011// Add everything!git add . / git add -A// Patching allows you to select which commits to essentially \"patch\" into a commit, pretty neat.git add -p / git commit -p// Add a commit message.git commit -m \"\"// This one I use personally all the time, it is a combo of -a & -m. Add & create a commit message.git commit -am \"\" BranchingLightweight reference points to a specific commit without the bells & whistles. 12345// Checkout a previous commit.git checkout [HASH]// Create a new branch from the current HEAD positiongit checkout -b [NAME] MergingCombining branches is usually done using either a merge or rebase approach. Merging in Git creates a special commit that has two unique parents and maintains the repo’s git history along the way. 12// Branch to merge with.git merge [BRANCH] RebasingRebasing is the other method which essentially takes a set of commits, “copies” them, and drops them somewhere else. While this sounds confusing, the advantage of rebasing is that it can be used to make a nice linear sequence of commits. The commit log / history of the repository will be a lot cleaner if only rebasing is allowed. 12// Copy commits from a specific branchgit rebase [branch / master] Relative RefsFurthermore, hashes are usually a lot longer in the real Git world as well. For instance, the hash of the commit that introduced the previous level is fed2da64c0efc5293610bdd892f82a58e8cbc5d8. Doesn’t exactly roll off the tongue… As commit hashes can be quite long Git provides us with the ability were we only need to specify enough characters of a hash until it uniquely identifies the commit. So I can type fed2 instead of the long string above. So instead of typing this: 1git checkout fde4ihfr98eueowu0ew9j34toihfsdfw We can identify this commit like so: 1git checkout fde4 Remembering commit hashes to move around can be a bit cumbersome so Git provides us with a super fast way of jumping around with relative refs! 123456789101112// ^ = move upwards one commit.// HEAD^ = move backwards in time.git checkout HEAD^// ~ = move upwards a number of (3) times.git checkout HEAD~3// master^ = jump to the parent commit of master.git checkout master^// master^^ = jump to the grandparent commit of master.git checkout master^^ Branch ForcingYou can directly reassign a branch to a commit with the -f option. 12// Moves (by force) the master branch to three parents behind HEAD.git branch -f master HEAD~3 Reversing ChangingsThe two most common ways to reverse changes is with the “reset” & “revert” commands. 12345// This command creates a new commit that undoes the changes from a previous commit (doesn't modify existing history).git reset// It modifies the index the \"staging area\", this command may alter existing history.git revert Cherry PickingWith cherry-picking you can easily move commits around / re-order them. 1git cherry-pick ... Interactive RebaseGit cherry-pick is great when you know which commits you want but if you don’t know then an interactive rebase may be the ticket. All interactive rebase means is using the rebase command with the -i option. 1git rebase -i HEAD~4 Git TagsMark a point in history for example different releases or some large feature update / change. 12345// Tag the current commit I'm on with the \"v1\" tag.git tag v1 [hash]// How far is the current commit I am on away from the closest anchor tag?git describe Git RemotesClone a remote repo to your machine :) 1git clone [REPO LOCATION URI] Git FetchFetch updates on the remote & apply them to the origin repo, note that this command does not apply / merge the updates into your master or current branch. 1git fetch Git PullThis command does two things it actually does a fetch & merge all in one which is great. 1git pull Git PushWhen you have some local changed committed upload / push to the the remote origin :) 1git push document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/10/10/Git-Know-How/"}],"tags":[{"name":"Git","slug":"Git","link":"/tags/Git/"},{"name":"JavaScript","slug":"JavaScript","link":"/tags/JavaScript/"},{"name":"AlpineJS","slug":"AlpineJS","link":"/tags/AlpineJS/"},{"name":"CSS","slug":"CSS","link":"/tags/CSS/"},{"name":"Houdini","slug":"Houdini","link":"/tags/Houdini/"},{"name":"JavaScript API","slug":"JavaScript-API","link":"/tags/JavaScript-API/"},{"name":"TypeScript","slug":"TypeScript","link":"/tags/TypeScript/"},{"name":"Generics","slug":"Generics","link":"/tags/Generics/"},{"name":"webpack","slug":"webpack","link":"/tags/webpack/"},{"name":"configuration","slug":"configuration","link":"/tags/configuration/"},{"name":"HTML","slug":"HTML","link":"/tags/HTML/"},{"name":"DOM","slug":"DOM","link":"/tags/DOM/"},{"name":"Shadow DOM","slug":"Shadow-DOM","link":"/tags/Shadow-DOM/"},{"name":"Decorators","slug":"Decorators","link":"/tags/Decorators/"},{"name":"Webpack","slug":"Webpack","link":"/tags/Webpack/"},{"name":"Bundling","slug":"Bundling","link":"/tags/Bundling/"},{"name":"Docker","slug":"Docker","link":"/tags/Docker/"},{"name":"dev server","slug":"dev-server","link":"/tags/dev-server/"},{"name":"Functional Programming","slug":"Functional-Programming","link":"/tags/Functional-Programming/"},{"name":"SQL","slug":"SQL","link":"/tags/SQL/"},{"name":"React Hooks","slug":"React-Hooks","link":"/tags/React-Hooks/"},{"name":"Javascript","slug":"Javascript","link":"/tags/Javascript/"},{"name":"Drag & Drop","slug":"Drag-Drop","link":"/tags/Drag-Drop/"},{"name":"InteractJs","slug":"InteractJs","link":"/tags/InteractJs/"},{"name":"Svelte","slug":"Svelte","link":"/tags/Svelte/"}],"categories":[]}